(function(k,E){k.module("ng-scroll-bar",[]);"use strict";(function(){function l(l,F){return{restrict:"A",bindings:{},controller:k.noop,link:function(G,c,w,H){function x(a){var b=a||E.event,d=1>(b.detail?-240*b.detail:b.wheelDelta)?120:-120;b.detail||(b=b.originalEvent,d=1>(b.detail?-240*b.detail:b.wheelDelta)?120:-120);d&&(a.preventDefault(),a.stopImmediatePropagation(),c[0].scrollTop=Math.min(c[0].scrollHeight,c[0].scrollTop+d))}function m(a){a.preventDefault();a.stopImmediatePropagation();a.target==g?(t=!0,y=a.screenY,z=c[0].scrollTop,e.on("mouseup",n),e.on("mousemove",p)):a.target==h&&(u=!0,A=a.screenX,B=c[0].scrollLeft,e.on("mouseup",n),e.on("mousemove",p))}function n(){t=u=!1;e.off("mouseup",n);e.off("mousemove",p)}function p(a){a.preventDefault();if(t){var b=c[0].clientHeight,d=c[0].scrollHeight,b=b-b/d;a=(z/d*b+(a.screenY-y))/b*d;c[0].scrollTop=a>d?d:a}else u&&(b=c[0].clientWidth,d=c[0].scrollWidth,b-=b/d,a=(B/d*b+(a.screenX-A))/b*d,c[0].scrollLeft=a>d?d:a)}function f(){if(!v){v=!0;var a=c[0].clientHeight,b=c[0].scrollHeight,d=c[0].clientWidth,e=c[0].scrollWidth;if(a==b)c[0].scrollTop=0,g.style.opacity=0,g.style.pointerEvents="none";else{var f=c[0].scrollTop,k=c[0].scrollLeft;g.style.pointerEvents="all";g.style.opacity="";g.style.height=a/b*100+"%";g.style.top=f+f/b*(a-a/b)+"px";g.style.right=-k+"px"}d==e?(c[0].scrollLeft=0,h.style.opacity=0,h.style.pointerEvents="none"):(a=c[0].scrollLeft,b=c[0].scrollTop,h.style.pointerEvents="all",h.style.opacity="",h.style.width=d/e*100+"%",h.style.left=a+a/e*(d-d/e)+"px",h.style.bottom=-b+"px");v=!1}}var C=!0,v=!1,e=k.element(l),u=!1,t=!1,A=void 0,y=void 0,z=void 0,B=void 0,q=k.element('\x3cdiv class\x3d"ng-scroll-bar-thumb-y"\x3e\x3c/div\x3e'),r=k.element('\x3cdiv class\x3d"ng-scroll-bar-thumb-x"\x3e\x3c/div\x3e');c.append(q);c.append(r);var g=q[0],h=r[0];w=new MutationObserver(function(a,b){C&&(C=!1,f());a.some(function(a){if(a.target!==g&&a.target!==h)return f(),!0})});var D=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";c.on("scroll",f);c.on(D,x);q.on("mousedown",m);r.on("mousedown",m);e.on("resize",f);w.observe(c[0],{attributes:!0,childList:!0,subtree:!0,characterData:!0});G.$on("$destroy",function(){c.off("scroll",f);c.off(D,x);q.off("mousedown",m);r.off("mousedown",m);e.off("mouseup",n);e.off("mousemove",p);e.off("resize",f)});F(f,100)}}}l.$inject=["$window","$timeout"];k.module("ng-scroll-bar").directive("ngScrollBar",l)})()})(angular,window);